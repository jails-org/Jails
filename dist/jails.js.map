{"version":3,"file":"jails.js","mappings":"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","sources":["webpack://jails/webpack/universalModuleDefinition","webpack://jails/./node_modules/template7/dist/template7.esm.js","webpack://jails/webpack/bootstrap","webpack://jails/webpack/runtime/define property getters","webpack://jails/webpack/runtime/global","webpack://jails/webpack/runtime/hasOwnProperty shorthand","webpack://jails/webpack/runtime/make namespace object","webpack://jails/./src/template-system.ts","webpack://jails/./src/utils/index.js","webpack://jails/./src/utils/events.js","webpack://jails/./src/utils/pubsub.js","webpack://jails/./node_modules/morphdom/dist/morphdom-esm.js","webpack://jails/./src/component.ts","webpack://jails/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"jails\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jails\"] = factory();\n\telse\n\t\troot[\"jails\"] = factory();\n})(self, function() {\nreturn ","/**\n * Template7 1.4.2\n * Mobile-first HTML template engine\n * \n * http://www.idangero.us/template7/\n * \n * Copyright 2019, Vladimir Kharlampidi\n * The iDangero.us\n * http://www.idangero.us/\n * \n * Licensed under MIT\n * \n * Released on: June 14, 2019\n */\n\nlet t7ctx;\nif (typeof window !== 'undefined') {\n  t7ctx = window;\n} else if (typeof global !== 'undefined') {\n  t7ctx = global;\n} else {\n  t7ctx = undefined;\n}\n\nconst Template7Context = t7ctx;\n\nconst Template7Utils = {\n  quoteSingleRexExp: new RegExp('\\'', 'g'),\n  quoteDoubleRexExp: new RegExp('\"', 'g'),\n  isFunction(func) {\n    return typeof func === 'function';\n  },\n  escape(string = '') {\n    return string\n      .replace(/&/g, '&amp;')\n      .replace(/</g, '&lt;')\n      .replace(/>/g, '&gt;')\n      .replace(/\"/g, '&quot;')\n      .replace(/'/g, '&#039;');\n  },\n  helperToSlices(string) {\n    const { quoteDoubleRexExp, quoteSingleRexExp } = Template7Utils;\n    const helperParts = string.replace(/[{}#}]/g, '').trim().split(' ');\n    const slices = [];\n    let shiftIndex;\n    let i;\n    let j;\n    for (i = 0; i < helperParts.length; i += 1) {\n      let part = helperParts[i];\n      let blockQuoteRegExp;\n      let openingQuote;\n      if (i === 0) slices.push(part);\n      else if (part.indexOf('\"') === 0 || part.indexOf('\\'') === 0) {\n        blockQuoteRegExp = part.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\n        openingQuote = part.indexOf('\"') === 0 ? '\"' : '\\'';\n        // Plain String\n        if (part.match(blockQuoteRegExp).length === 2) {\n          // One word string\n          slices.push(part);\n        } else {\n          // Find closed Index\n          shiftIndex = 0;\n          for (j = i + 1; j < helperParts.length; j += 1) {\n            part += ` ${helperParts[j]}`;\n            if (helperParts[j].indexOf(openingQuote) >= 0) {\n              shiftIndex = j;\n              slices.push(part);\n              break;\n            }\n          }\n          if (shiftIndex) i = shiftIndex;\n        }\n      } else if (part.indexOf('=') > 0) {\n        // Hash\n        const hashParts = part.split('=');\n        const hashName = hashParts[0];\n        let hashContent = hashParts[1];\n        if (!blockQuoteRegExp) {\n          blockQuoteRegExp = hashContent.indexOf('\"') === 0 ? quoteDoubleRexExp : quoteSingleRexExp;\n          openingQuote = hashContent.indexOf('\"') === 0 ? '\"' : '\\'';\n        }\n        if (hashContent.match(blockQuoteRegExp).length !== 2) {\n          shiftIndex = 0;\n          for (j = i + 1; j < helperParts.length; j += 1) {\n            hashContent += ` ${helperParts[j]}`;\n            if (helperParts[j].indexOf(openingQuote) >= 0) {\n              shiftIndex = j;\n              break;\n            }\n          }\n          if (shiftIndex) i = shiftIndex;\n        }\n        const hash = [hashName, hashContent.replace(blockQuoteRegExp, '')];\n        slices.push(hash);\n      } else {\n        // Plain variable\n        slices.push(part);\n      }\n    }\n    return slices;\n  },\n  stringToBlocks(string) {\n    const blocks = [];\n    let i;\n    let j;\n    if (!string) return [];\n    const stringBlocks = string.split(/({{[^{^}]*}})/);\n    for (i = 0; i < stringBlocks.length; i += 1) {\n      let block = stringBlocks[i];\n      if (block === '') continue;\n      if (block.indexOf('{{') < 0) {\n        blocks.push({\n          type: 'plain',\n          content: block,\n        });\n      } else {\n        if (block.indexOf('{/') >= 0) {\n          continue;\n        }\n        block = block\n          .replace(/{{([#/])*([ ])*/, '{{$1')\n          .replace(/([ ])*}}/, '}}');\n        if (block.indexOf('{#') < 0 && block.indexOf(' ') < 0 && block.indexOf('else') < 0) {\n          // Simple variable\n          blocks.push({\n            type: 'variable',\n            contextName: block.replace(/[{}]/g, ''),\n          });\n          continue;\n        }\n        // Helpers\n        const helperSlices = Template7Utils.helperToSlices(block);\n        let helperName = helperSlices[0];\n        const isPartial = helperName === '>';\n        const helperContext = [];\n        const helperHash = {};\n        for (j = 1; j < helperSlices.length; j += 1) {\n          const slice = helperSlices[j];\n          if (Array.isArray(slice)) {\n            // Hash\n            helperHash[slice[0]] = slice[1] === 'false' ? false : slice[1];\n          } else {\n            helperContext.push(slice);\n          }\n        }\n\n        if (block.indexOf('{#') >= 0) {\n          // Condition/Helper\n          let helperContent = '';\n          let elseContent = '';\n          let toSkip = 0;\n          let shiftIndex;\n          let foundClosed = false;\n          let foundElse = false;\n          let depth = 0;\n          for (j = i + 1; j < stringBlocks.length; j += 1) {\n            if (stringBlocks[j].indexOf('{{#') >= 0) {\n              depth += 1;\n            }\n            if (stringBlocks[j].indexOf('{{/') >= 0) {\n              depth -= 1;\n            }\n            if (stringBlocks[j].indexOf(`{{#${helperName}`) >= 0) {\n              helperContent += stringBlocks[j];\n              if (foundElse) elseContent += stringBlocks[j];\n              toSkip += 1;\n            } else if (stringBlocks[j].indexOf(`{{/${helperName}`) >= 0) {\n              if (toSkip > 0) {\n                toSkip -= 1;\n                helperContent += stringBlocks[j];\n                if (foundElse) elseContent += stringBlocks[j];\n              } else {\n                shiftIndex = j;\n                foundClosed = true;\n                break;\n              }\n            } else if (stringBlocks[j].indexOf('else') >= 0 && depth === 0) {\n              foundElse = true;\n            } else {\n              if (!foundElse) helperContent += stringBlocks[j];\n              if (foundElse) elseContent += stringBlocks[j];\n            }\n          }\n          if (foundClosed) {\n            if (shiftIndex) i = shiftIndex;\n            if (helperName === 'raw') {\n              blocks.push({\n                type: 'plain',\n                content: helperContent,\n              });\n            } else {\n              blocks.push({\n                type: 'helper',\n                helperName,\n                contextName: helperContext,\n                content: helperContent,\n                inverseContent: elseContent,\n                hash: helperHash,\n              });\n            }\n          }\n        } else if (block.indexOf(' ') > 0) {\n          if (isPartial) {\n            helperName = '_partial';\n            if (helperContext[0]) {\n              if (helperContext[0].indexOf('[') === 0) helperContext[0] = helperContext[0].replace(/[[\\]]/g, '');\n              else helperContext[0] = `\"${helperContext[0].replace(/\"|'/g, '')}\"`;\n            }\n          }\n          blocks.push({\n            type: 'helper',\n            helperName,\n            contextName: helperContext,\n            hash: helperHash,\n          });\n        }\n      }\n    }\n    return blocks;\n  },\n  parseJsVariable(expression, replace, object) {\n    return expression.split(/([+ \\-*/^()&=|<>!%:?])/g).reduce((arr, part) => {\n      if (!part) {\n        return arr;\n      }\n      if (part.indexOf(replace) < 0) {\n        arr.push(part);\n        return arr;\n      }\n      if (!object) {\n        arr.push(JSON.stringify(''));\n        return arr;\n      }\n\n      let variable = object;\n      if (part.indexOf(`${replace}.`) >= 0) {\n        part.split(`${replace}.`)[1].split('.').forEach((partName) => {\n          if (partName in variable) variable = variable[partName];\n          else variable = undefined;\n        });\n      }\n      if (\n        (typeof variable === 'string')\n        || Array.isArray(variable)\n        || (variable.constructor && variable.constructor === Object)\n      ) {\n        variable = JSON.stringify(variable);\n      }\n      if (variable === undefined) variable = 'undefined';\n\n      arr.push(variable);\n      return arr;\n    }, []).join('');\n\n  },\n  parseJsParents(expression, parents) {\n    return expression.split(/([+ \\-*^()&=|<>!%:?])/g).reduce((arr, part) => {\n      if (!part) {\n        return arr;\n      }\n\n      if (part.indexOf('../') < 0) {\n        arr.push(part);\n        return arr;\n      }\n\n      if (!parents || parents.length === 0) {\n        arr.push(JSON.stringify(''));\n        return arr;\n      }\n\n      const levelsUp = part.split('../').length - 1;\n      const parentData = levelsUp > parents.length ? parents[parents.length - 1] : parents[levelsUp - 1];\n\n      let variable = parentData;\n      const parentPart = part.replace(/..\\//g, '');\n      parentPart.split('.').forEach((partName) => {\n        if (typeof variable[partName] !== 'undefined') variable = variable[partName];\n        else variable = 'undefined';\n      });\n      if (variable === false || variable === true) {\n        arr.push(JSON.stringify(variable));\n        return arr;\n      }\n      if (variable === null || variable === 'undefined') {\n        arr.push(JSON.stringify(''));\n        return arr;\n      }\n      arr.push(JSON.stringify(variable));\n      return arr;\n    }, []).join('');\n  },\n  getCompileVar(name, ctx, data = 'data_1') {\n    let variable = ctx;\n    let parts;\n    let levelsUp = 0;\n    let newDepth;\n    if (name.indexOf('../') === 0) {\n      levelsUp = name.split('../').length - 1;\n      newDepth = variable.split('_')[1] - levelsUp;\n      variable = `ctx_${newDepth >= 1 ? newDepth : 1}`;\n      parts = name.split('../')[levelsUp].split('.');\n    } else if (name.indexOf('@global') === 0) {\n      variable = 'Template7.global';\n      parts = name.split('@global.')[1].split('.');\n    } else if (name.indexOf('@root') === 0) {\n      variable = 'root';\n      parts = name.split('@root.')[1].split('.');\n    } else {\n      parts = name.split('.');\n    }\n    for (let i = 0; i < parts.length; i += 1) {\n      const part = parts[i];\n      if (part.indexOf('@') === 0) {\n        let dataLevel = data.split('_')[1];\n        if (levelsUp > 0) {\n          dataLevel = newDepth;\n        }\n        if (i > 0) {\n          variable += `[(data_${dataLevel} && data_${dataLevel}.${part.replace('@', '')})]`;\n        } else {\n          variable = `(data_${dataLevel} && data_${dataLevel}.${part.replace('@', '')})`;\n        }\n      } else if (Number.isFinite ? Number.isFinite(part) : Template7Context.isFinite(part)) {\n        variable += `[${part}]`;\n      } else if (part === 'this' || part.indexOf('this.') >= 0 || part.indexOf('this[') >= 0 || part.indexOf('this(') >= 0) {\n        variable = part.replace('this', ctx);\n      } else {\n        variable += `.${part}`;\n      }\n    }\n    return variable;\n  },\n  getCompiledArguments(contextArray, ctx, data) {\n    const arr = [];\n    for (let i = 0; i < contextArray.length; i += 1) {\n      if (/^['\"]/.test(contextArray[i])) arr.push(contextArray[i]);\n      else if (/^(true|false|\\d+)$/.test(contextArray[i])) arr.push(contextArray[i]);\n      else {\n        arr.push(Template7Utils.getCompileVar(contextArray[i], ctx, data));\n      }\n    }\n\n    return arr.join(', ');\n  },\n};\n\n/* eslint no-eval: \"off\" */\n\nconst Template7Helpers = {\n  _partial(partialName, options) {\n    const ctx = this;\n    const p = Template7Class.partials[partialName];\n    if (!p || (p && !p.template)) return '';\n    if (!p.compiled) {\n      p.compiled = new Template7Class(p.template).compile();\n    }\n    Object.keys(options.hash).forEach((hashName) => {\n      ctx[hashName] = options.hash[hashName];\n    });\n    return p.compiled(ctx, options.data, options.root);\n  },\n  escape(context) {\n    if (typeof context === 'undefined' || context === null) return '';\n    if (typeof context !== 'string') {\n      throw new Error('Template7: Passed context to \"escape\" helper should be a string');\n    }\n    return Template7Utils.escape(context);\n  },\n  if(context, options) {\n    let ctx = context;\n    if (Template7Utils.isFunction(ctx)) { ctx = ctx.call(this); }\n    if (ctx) {\n      return options.fn(this, options.data);\n    }\n\n    return options.inverse(this, options.data);\n  },\n  unless(context, options) {\n    let ctx = context;\n    if (Template7Utils.isFunction(ctx)) { ctx = ctx.call(this); }\n    if (!ctx) {\n      return options.fn(this, options.data);\n    }\n\n    return options.inverse(this, options.data);\n  },\n  each(context, options) {\n    let ctx = context;\n    let ret = '';\n    let i = 0;\n    if (Template7Utils.isFunction(ctx)) { ctx = ctx.call(this); }\n    if (Array.isArray(ctx)) {\n      if (options.hash.reverse) {\n        ctx = ctx.reverse();\n      }\n      for (i = 0; i < ctx.length; i += 1) {\n        ret += options.fn(ctx[i], { first: i === 0, last: i === ctx.length - 1, index: i });\n      }\n      if (options.hash.reverse) {\n        ctx = ctx.reverse();\n      }\n    } else {\n      // eslint-disable-next-line\n      for (const key in ctx) {\n        i += 1;\n        ret += options.fn(ctx[key], { key });\n      }\n    }\n    if (i > 0) return ret;\n    return options.inverse(this);\n  },\n  with(context, options) {\n    let ctx = context;\n    if (Template7Utils.isFunction(ctx)) { ctx = context.call(this); }\n    return options.fn(ctx);\n  },\n  join(context, options) {\n    let ctx = context;\n    if (Template7Utils.isFunction(ctx)) { ctx = ctx.call(this); }\n    return ctx.join(options.hash.delimiter || options.hash.delimeter);\n  },\n  js(expression, options) {\n    const data = options.data;\n    let func;\n    let execute = expression;\n    ('index first last key').split(' ').forEach((prop) => {\n      if (typeof data[prop] !== 'undefined') {\n        const re1 = new RegExp(`this.@${prop}`, 'g');\n        const re2 = new RegExp(`@${prop}`, 'g');\n        execute = execute\n          .replace(re1, JSON.stringify(data[prop]))\n          .replace(re2, JSON.stringify(data[prop]));\n      }\n    });\n    if (options.root && execute.indexOf('@root') >= 0) {\n      execute = Template7Utils.parseJsVariable(execute, '@root', options.root);\n    }\n    if (execute.indexOf('@global') >= 0) {\n      execute = Template7Utils.parseJsVariable(execute, '@global', Template7Context.Template7.global);\n    }\n    if (execute.indexOf('../') >= 0) {\n      execute = Template7Utils.parseJsParents(execute, options.parents);\n    }\n    if (execute.indexOf('return') >= 0) {\n      func = `(function(){${execute}})`;\n    } else {\n      func = `(function(){return (${execute})})`;\n    }\n    return eval(func).call(this);\n  },\n  js_if(expression, options) {\n    const data = options.data;\n    let func;\n    let execute = expression;\n    ('index first last key').split(' ').forEach((prop) => {\n      if (typeof data[prop] !== 'undefined') {\n        const re1 = new RegExp(`this.@${prop}`, 'g');\n        const re2 = new RegExp(`@${prop}`, 'g');\n        execute = execute\n          .replace(re1, JSON.stringify(data[prop]))\n          .replace(re2, JSON.stringify(data[prop]));\n      }\n    });\n    if (options.root && execute.indexOf('@root') >= 0) {\n      execute = Template7Utils.parseJsVariable(execute, '@root', options.root);\n    }\n    if (execute.indexOf('@global') >= 0) {\n      execute = Template7Utils.parseJsVariable(execute, '@global', Template7Context.Template7.global);\n    }\n    if (execute.indexOf('../') >= 0) {\n      execute = Template7Utils.parseJsParents(execute, options.parents);\n    }\n    if (execute.indexOf('return') >= 0) {\n      func = `(function(){${execute}})`;\n    } else {\n      func = `(function(){return (${execute})})`;\n    }\n    const condition = eval(func).call(this);\n    if (condition) {\n      return options.fn(this, options.data);\n    }\n\n    return options.inverse(this, options.data);\n  },\n};\nTemplate7Helpers.js_compare = Template7Helpers.js_if;\n\nconst Template7Options = {};\nconst Template7Partials = {};\n\nclass Template7Class {\n  constructor(template) {\n    const t = this;\n    t.template = template;\n  }\n  compile(template = this.template, depth = 1) {\n    const t = this;\n    if (t.compiled) return t.compiled;\n\n    if (typeof template !== 'string') {\n      throw new Error('Template7: Template must be a string');\n    }\n    const { stringToBlocks, getCompileVar, getCompiledArguments } = Template7Utils;\n\n    const blocks = stringToBlocks(template);\n    const ctx = `ctx_${depth}`;\n    const data = `data_${depth}`;\n    if (blocks.length === 0) {\n      return function empty() { return ''; };\n    }\n\n    function getCompileFn(block, newDepth) {\n      if (block.content) return t.compile(block.content, newDepth);\n      return function empty() { return ''; };\n    }\n    function getCompileInverse(block, newDepth) {\n      if (block.inverseContent) return t.compile(block.inverseContent, newDepth);\n      return function empty() { return ''; };\n    }\n\n    let resultString = '';\n    if (depth === 1) {\n      resultString += `(function (${ctx}, ${data}, root) {\\n`;\n    } else {\n      resultString += `(function (${ctx}, ${data}) {\\n`;\n    }\n    if (depth === 1) {\n      resultString += 'function isArray(arr){return Array.isArray(arr);}\\n';\n      resultString += 'function isFunction(func){return (typeof func === \\'function\\');}\\n';\n      resultString += 'function c(val, ctx) {if (typeof val !== \"undefined\" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return \"\";}\\n';\n      resultString += 'root = root || ctx_1 || {};\\n';\n    }\n    resultString += 'var r = \\'\\';\\n';\n    let i;\n    for (i = 0; i < blocks.length; i += 1) {\n      const block = blocks[i];\n      // Plain block\n      if (block.type === 'plain') {\n        // eslint-disable-next-line\n        resultString += `r +='${(block.content).replace(/\\r/g, '\\\\r').replace(/\\n/g, '\\\\n').replace(/'/g, '\\\\' + '\\'')}';`;\n        continue;\n      }\n      let variable;\n      let compiledArguments;\n      // Variable block\n      if (block.type === 'variable') {\n        variable = getCompileVar(block.contextName, ctx, data);\n        resultString += `r += c(${variable}, ${ctx});`;\n      }\n      // Helpers block\n      if (block.type === 'helper') {\n        let parents;\n        if (ctx !== 'ctx_1') {\n          const level = ctx.split('_')[1];\n          let parentsString = `ctx_${level - 1}`;\n          for (let j = level - 2; j >= 1; j -= 1) {\n            parentsString += `, ctx_${j}`;\n          }\n          parents = `[${parentsString}]`;\n        } else {\n          parents = `[${ctx}]`;\n        }\n        let dynamicHelper;\n        if (block.helperName.indexOf('[') === 0) {\n          block.helperName = getCompileVar(block.helperName.replace(/[[\\]]/g, ''), ctx, data);\n          dynamicHelper = true;\n        }\n        if (dynamicHelper || block.helperName in Template7Helpers) {\n          compiledArguments = getCompiledArguments(block.contextName, ctx, data);\n          resultString += `r += (Template7Helpers${dynamicHelper ? `[${block.helperName}]` : `.${block.helperName}`}).call(${ctx}, ${compiledArguments && (`${compiledArguments}, `)}{hash:${JSON.stringify(block.hash)}, data: ${data} || {}, fn: ${getCompileFn(block, depth + 1)}, inverse: ${getCompileInverse(block, depth + 1)}, root: root, parents: ${parents}});`;\n        } else if (block.contextName.length > 0) {\n          throw new Error(`Template7: Missing helper: \"${block.helperName}\"`);\n        } else {\n          variable = getCompileVar(block.helperName, ctx, data);\n          resultString += `if (${variable}) {`;\n          resultString += `if (isArray(${variable})) {`;\n          resultString += `r += (Template7Helpers.each).call(${ctx}, ${variable}, {hash:${JSON.stringify(block.hash)}, data: ${data} || {}, fn: ${getCompileFn(block, depth + 1)}, inverse: ${getCompileInverse(block, depth + 1)}, root: root, parents: ${parents}});`;\n          resultString += '}else {';\n          resultString += `r += (Template7Helpers.with).call(${ctx}, ${variable}, {hash:${JSON.stringify(block.hash)}, data: ${data} || {}, fn: ${getCompileFn(block, depth + 1)}, inverse: ${getCompileInverse(block, depth + 1)}, root: root, parents: ${parents}});`;\n          resultString += '}}';\n        }\n      }\n    }\n    resultString += '\\nreturn r;})';\n\n    if (depth === 1) {\n      // eslint-disable-next-line\n      t.compiled = eval(resultString);\n      return t.compiled;\n    }\n    return resultString;\n  }\n  static get options() {\n    return Template7Options;\n  }\n  static get partials() {\n    return Template7Partials;\n  }\n  static get helpers() {\n    return Template7Helpers;\n  }\n}\n\nfunction Template7(...args) {\n  const [template, data] = args;\n  if (args.length === 2) {\n    let instance = new Template7Class(template);\n    const rendered = instance.compile()(data);\n    instance = null;\n    return (rendered);\n  }\n  return new Template7Class(template);\n}\nTemplate7.registerHelper = function registerHelper(name, fn) {\n  Template7Class.helpers[name] = fn;\n};\nTemplate7.unregisterHelper = function unregisterHelper(name) {\n  Template7Class.helpers[name] = undefined;\n  delete Template7Class.helpers[name];\n};\nTemplate7.registerPartial = function registerPartial(name, template) {\n  Template7Class.partials[name] = { template };\n};\nTemplate7.unregisterPartial = function unregisterPartial(name) {\n  if (Template7Class.partials[name]) {\n    Template7Class.partials[name] = undefined;\n    delete Template7Class.partials[name];\n  }\n};\nTemplate7.compile = function compile(template, options) {\n  const instance = new Template7Class(template, options);\n  return instance.compile();\n};\n\nTemplate7.options = Template7Class.options;\nTemplate7.helpers = Template7Class.helpers;\nTemplate7.partials = Template7Class.partials;\n\nexport default Template7;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import template7 from 'template7';\nexport default function templateSystem(element) {\n    const directives = [htmlRepeatAndIf];\n    const vdom = element.cloneNode(true);\n    const newvdom = directives.reduce((_, directive) => directive(vdom), vdom);\n    const html = newvdom.outerHTML.replace(/html-/g, '');\n    const template = template7.compile(html);\n    return (data) => template(data);\n}\n/**@Directives */\nconst htmlRepeatAndIf = (vdom) => {\n    const nodes = Array.from(vdom.querySelectorAll('[html-repeat],[html-if]'));\n    if (nodes.length) {\n        nodes.forEach(node => {\n            if (node.getAttribute('html-repeat')) {\n                const instruction = node.getAttribute('html-repeat');\n                node.removeAttribute('html-repeat');\n                node.setAttribute('scope', '{{scope this}}');\n                node.outerHTML = `{{#${instruction}}}${node.outerHTML}{{/${instruction}}}`;\n            }\n            else if (node.getAttribute('html-if')) {\n                const instruction = node.getAttribute('html-if');\n                node.removeAttribute('html-if');\n                node.setAttribute('scope', '{{scope this}}');\n                node.outerHTML = `{{#${instruction}}}${node.outerHTML}{{/${instruction}}}`;\n            }\n        });\n    }\n    return vdom;\n};\n/**@Global Settings */\ntemplate7.global = {};\n/**@Helpers */\ntemplate7.registerHelper('scope', (context, options) => {\n    const scope = Object.assign(Object.assign({}, context), { ['$first']: options.data.first, ['$index']: options.data.index, ['$last']: options.data.last, ['$parent']: options.root });\n    return JSON.stringify(scope).replace(/\\\"/g, '\\'');\n});\n","import templateSystem from '../template-system'\n\nexport const rAF = (fn) => {\n\t(requestAnimationFrame || setTimeout)(fn, 1000 / 60)\n}\n\nexport const uuid = () => {\n\treturn 'xxxxxxxx'.replace(/[xy]/g, (c) => {\n\t\tconst r = Math.random() * 8 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8)\n\t\treturn v.toString(8)\n\t})\n}\n\nexport const stripTemplateTag = (element) => {\n\tconst templates = Array.from(element.querySelectorAll('template'))\n\t// https://gist.github.com/harmenjanssen/07e425248779c65bc5d11b02fb913274\n\ttemplates.forEach(template => {\n\t\ttemplate.parentNode.replaceChild(template.content, template)\n\t})\n}\n\nexport const dup = (o) => {\n\treturn JSON.parse(JSON.stringify(o))\n}\n\nexport const createTemplate = (html, templates) => {\n\n\tconst vroot = document.createElement('div')\n\tvroot.innerHTML = html\n\tstripTemplateTag(vroot)\n\n\tArray\n\t\t.from(vroot.querySelectorAll('[data-component]'))\n\t\t.forEach(c => {\n\t\t\tconst tplid = c.getAttribute('tplid')\n\t\t\tconst cache = templates[tplid]\n\t\t\tif (cache)\n\t\t\t\tc.outerHTML = cache\n\t\t})\n\n\treturn vroot.innerHTML\n}\n\nexport const createTemplateId = (element, templates) => {\n\n\tconst tplid = element.getAttribute('tplid')\n\n\tif (!tplid) {\n\t\tconst id = uuid()\n\t\telement.setAttribute('tplid', id)\n\t\ttemplates[id] = templateSystem(element)\n\t\treturn templates[id]\n\t}\n\n\treturn templates[tplid]\n}\n\nexport const buildtemplates = (target, components, templates) => {\n\n\treturn Array\n\t\t.from(target.querySelectorAll('*'))\n\t\t.filter(node => node.tagName.toLocaleLowerCase() in components)\n\t\t.reverse()\n\t\t.map(node => {\n\t\t\tcreateTemplateId(node, templates)\n\t\t\treturn node\n\t\t})\n}\n","const customEvent = (() => {\n\treturn ('CustomEvent' in window && typeof window.CustomEvent === 'function')\n\t\t? (name, data) => new CustomEvent(name, data)\n\t\t: (name, data) => {\n\t\t\tconst newEvent = document.createEvent('CustomEvent')\n\t\t\tnewEvent.initCustomEvent(name, true, true, data)\n\t\t\treturn newEvent\n\t\t}\n})()\n\nconst handler = (node, ev) => {\n\treturn function (e) {\n\t\tconst scope = this\n\t\tconst detail = e.detail || {}\n\t\tnode.__events[ev].forEach(o => {\n\t\t\to.handler.apply(scope, [e].concat(detail.args))\n\t\t})\n\t}\n}\n\nconst removeListener = (node, ev) => {\n\tif (node.__events[ev] && node.__events[ev].listener) {\n\t\tnode.removeEventListener(\n\t\t\tev,\n\t\t\tnode.__events[ev].listener,\n\t\t\t(ev == 'focus' || ev == 'blur' || ev == 'mouseenter' || ev == 'mouseleave'))\n\t\tdelete node.__events[ev]\n\t}\n}\n\nconst delegate = (node, selector, callback) => {\n\treturn function (e) {\n\n\t\tconst element = this\n\t\tconst detail = e.detail || {}\n\n\t\tlet parent = e.target\n\n\t\twhile (parent) {\n\t\t\tif (parent.matches(selector)) {\n\t\t\t\te.delegateTarget = parent\n\t\t\t\tcallback.apply(element, [e].concat(detail.args))\n\t\t\t}\n\t\t\tif( parent === node ) break\n\t\t\tparent = parent.parentNode\n\t\t}\n\t}\n}\n\nexport const on = (node, ev, selectorOrCallback, callback) => {\n\n\tnode.__events = node.__events || {}\n\tnode.__events[ev] = (node.__events[ev] || [])\n\n\tif (!node.__events[ev].length) {\n\t\tconst fn = handler(node, ev)\n\t\tnode.addEventListener(\n\t\t\tev,\n\t\t\tfn,\n\t\t\t(ev == 'focus' || ev == 'blur' || ev == 'mouseenter' || ev == 'mouseleave'))\n\t\tnode.__events[ev].listener = fn\n\t}\n\n\tif (selectorOrCallback.call) {\n\t\tnode.__events[ev].push({ handler: selectorOrCallback, callback: selectorOrCallback })\n\t} else {\n\t\tnode.__events[ev].push({ handler: delegate(node, selectorOrCallback, callback), callback })\n\t}\n}\n\nexport const off = (node, ev, fn) => {\n\n\tif (fn && node.__events[ev] && node.__events[ev].length) {\n\t\tvar old = node.__events[ev]\n\t\tnode.__events[ev] = node.__events[ev].filter(function (o) { return o.callback != fn; })\n\t\tnode.__events[ev].listener = old.listener\n\t\tif (!node.__events[ev].length)\n\t\t\tremoveListener(node, ev)\n\t} else {\n\t\tremoveListener(node, ev)\n\t}\n}\n\nexport const trigger = (node, name, args) => {\n\tnode.dispatchEvent(customEvent(name, { bubbles: true, detail: args }))\n}\n","const topics = {}\nconst _async = {}\n\nexport const publish = (name, params) => {\n\t_async[name] = Object.assign({}, _async[name], params)\n\tif( topics[name] )\n\t\ttopics[name].forEach(topic => topic(params))\n}\n\nexport const subscribe = (name, method) => {\n\ttopics[name] = topics[name] || []\n\ttopics[name].push(method)\n\tif ( name in _async ) {\n\t\tmethod(_async[name])\n\t}\n}\n\nexport const unsubscribe = (topic) => {\n\ttopics[topic.name] = (topics[topic.name] || [])\n\t\t.filter(t => t != topic.method)\n\tif (!topics[topic.name].length) {\n\t\tdelete topics[topic.name]\n\t\tdelete _async[topic.name]\n\t}\n}\n","var DOCUMENT_FRAGMENT_NODE = 11;\n\nfunction morphAttrs(fromNode, toNode) {\n    var toNodeAttrs = toNode.attributes;\n    var attr;\n    var attrName;\n    var attrNamespaceURI;\n    var attrValue;\n    var fromValue;\n\n    // document-fragments dont have attributes so lets not do anything\n    if (toNode.nodeType === DOCUMENT_FRAGMENT_NODE || fromNode.nodeType === DOCUMENT_FRAGMENT_NODE) {\n      return;\n    }\n\n    // update attributes on original DOM element\n    for (var i = toNodeAttrs.length - 1; i >= 0; i--) {\n        attr = toNodeAttrs[i];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n        attrValue = attr.value;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n            fromValue = fromNode.getAttributeNS(attrNamespaceURI, attrName);\n\n            if (fromValue !== attrValue) {\n                if (attr.prefix === 'xmlns'){\n                    attrName = attr.name; // It's not allowed to set an attribute with the XMLNS namespace without specifying the `xmlns` prefix\n                }\n                fromNode.setAttributeNS(attrNamespaceURI, attrName, attrValue);\n            }\n        } else {\n            fromValue = fromNode.getAttribute(attrName);\n\n            if (fromValue !== attrValue) {\n                fromNode.setAttribute(attrName, attrValue);\n            }\n        }\n    }\n\n    // Remove any extra attributes found on the original DOM element that\n    // weren't found on the target element.\n    var fromNodeAttrs = fromNode.attributes;\n\n    for (var d = fromNodeAttrs.length - 1; d >= 0; d--) {\n        attr = fromNodeAttrs[d];\n        attrName = attr.name;\n        attrNamespaceURI = attr.namespaceURI;\n\n        if (attrNamespaceURI) {\n            attrName = attr.localName || attrName;\n\n            if (!toNode.hasAttributeNS(attrNamespaceURI, attrName)) {\n                fromNode.removeAttributeNS(attrNamespaceURI, attrName);\n            }\n        } else {\n            if (!toNode.hasAttribute(attrName)) {\n                fromNode.removeAttribute(attrName);\n            }\n        }\n    }\n}\n\nvar range; // Create a range object for efficently rendering strings to elements.\nvar NS_XHTML = 'http://www.w3.org/1999/xhtml';\n\nvar doc = typeof document === 'undefined' ? undefined : document;\nvar HAS_TEMPLATE_SUPPORT = !!doc && 'content' in doc.createElement('template');\nvar HAS_RANGE_SUPPORT = !!doc && doc.createRange && 'createContextualFragment' in doc.createRange();\n\nfunction createFragmentFromTemplate(str) {\n    var template = doc.createElement('template');\n    template.innerHTML = str;\n    return template.content.childNodes[0];\n}\n\nfunction createFragmentFromRange(str) {\n    if (!range) {\n        range = doc.createRange();\n        range.selectNode(doc.body);\n    }\n\n    var fragment = range.createContextualFragment(str);\n    return fragment.childNodes[0];\n}\n\nfunction createFragmentFromWrap(str) {\n    var fragment = doc.createElement('body');\n    fragment.innerHTML = str;\n    return fragment.childNodes[0];\n}\n\n/**\n * This is about the same\n * var html = new DOMParser().parseFromString(str, 'text/html');\n * return html.body.firstChild;\n *\n * @method toElement\n * @param {String} str\n */\nfunction toElement(str) {\n    str = str.trim();\n    if (HAS_TEMPLATE_SUPPORT) {\n      // avoid restrictions on content for things like `<tr><th>Hi</th></tr>` which\n      // createContextualFragment doesn't support\n      // <template> support not available in IE\n      return createFragmentFromTemplate(str);\n    } else if (HAS_RANGE_SUPPORT) {\n      return createFragmentFromRange(str);\n    }\n\n    return createFragmentFromWrap(str);\n}\n\n/**\n * Returns true if two node's names are the same.\n *\n * NOTE: We don't bother checking `namespaceURI` because you will never find two HTML elements with the same\n *       nodeName and different namespace URIs.\n *\n * @param {Element} a\n * @param {Element} b The target element\n * @return {boolean}\n */\nfunction compareNodeNames(fromEl, toEl) {\n    var fromNodeName = fromEl.nodeName;\n    var toNodeName = toEl.nodeName;\n    var fromCodeStart, toCodeStart;\n\n    if (fromNodeName === toNodeName) {\n        return true;\n    }\n\n    fromCodeStart = fromNodeName.charCodeAt(0);\n    toCodeStart = toNodeName.charCodeAt(0);\n\n    // If the target element is a virtual DOM node or SVG node then we may\n    // need to normalize the tag name before comparing. Normal HTML elements that are\n    // in the \"http://www.w3.org/1999/xhtml\"\n    // are converted to upper case\n    if (fromCodeStart <= 90 && toCodeStart >= 97) { // from is upper and to is lower\n        return fromNodeName === toNodeName.toUpperCase();\n    } else if (toCodeStart <= 90 && fromCodeStart >= 97) { // to is upper and from is lower\n        return toNodeName === fromNodeName.toUpperCase();\n    } else {\n        return false;\n    }\n}\n\n/**\n * Create an element, optionally with a known namespace URI.\n *\n * @param {string} name the element name, e.g. 'div' or 'svg'\n * @param {string} [namespaceURI] the element's namespace URI, i.e. the value of\n * its `xmlns` attribute or its inferred namespace.\n *\n * @return {Element}\n */\nfunction createElementNS(name, namespaceURI) {\n    return !namespaceURI || namespaceURI === NS_XHTML ?\n        doc.createElement(name) :\n        doc.createElementNS(namespaceURI, name);\n}\n\n/**\n * Copies the children of one DOM element to another DOM element\n */\nfunction moveChildren(fromEl, toEl) {\n    var curChild = fromEl.firstChild;\n    while (curChild) {\n        var nextChild = curChild.nextSibling;\n        toEl.appendChild(curChild);\n        curChild = nextChild;\n    }\n    return toEl;\n}\n\nfunction syncBooleanAttrProp(fromEl, toEl, name) {\n    if (fromEl[name] !== toEl[name]) {\n        fromEl[name] = toEl[name];\n        if (fromEl[name]) {\n            fromEl.setAttribute(name, '');\n        } else {\n            fromEl.removeAttribute(name);\n        }\n    }\n}\n\nvar specialElHandlers = {\n    OPTION: function(fromEl, toEl) {\n        var parentNode = fromEl.parentNode;\n        if (parentNode) {\n            var parentName = parentNode.nodeName.toUpperCase();\n            if (parentName === 'OPTGROUP') {\n                parentNode = parentNode.parentNode;\n                parentName = parentNode && parentNode.nodeName.toUpperCase();\n            }\n            if (parentName === 'SELECT' && !parentNode.hasAttribute('multiple')) {\n                if (fromEl.hasAttribute('selected') && !toEl.selected) {\n                    // Workaround for MS Edge bug where the 'selected' attribute can only be\n                    // removed if set to a non-empty value:\n                    // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12087679/\n                    fromEl.setAttribute('selected', 'selected');\n                    fromEl.removeAttribute('selected');\n                }\n                // We have to reset select element's selectedIndex to -1, otherwise setting\n                // fromEl.selected using the syncBooleanAttrProp below has no effect.\n                // The correct selectedIndex will be set in the SELECT special handler below.\n                parentNode.selectedIndex = -1;\n            }\n        }\n        syncBooleanAttrProp(fromEl, toEl, 'selected');\n    },\n    /**\n     * The \"value\" attribute is special for the <input> element since it sets\n     * the initial value. Changing the \"value\" attribute without changing the\n     * \"value\" property will have no effect since it is only used to the set the\n     * initial value.  Similar for the \"checked\" attribute, and \"disabled\".\n     */\n    INPUT: function(fromEl, toEl) {\n        syncBooleanAttrProp(fromEl, toEl, 'checked');\n        syncBooleanAttrProp(fromEl, toEl, 'disabled');\n\n        if (fromEl.value !== toEl.value) {\n            fromEl.value = toEl.value;\n        }\n\n        if (!toEl.hasAttribute('value')) {\n            fromEl.removeAttribute('value');\n        }\n    },\n\n    TEXTAREA: function(fromEl, toEl) {\n        var newValue = toEl.value;\n        if (fromEl.value !== newValue) {\n            fromEl.value = newValue;\n        }\n\n        var firstChild = fromEl.firstChild;\n        if (firstChild) {\n            // Needed for IE. Apparently IE sets the placeholder as the\n            // node value and vise versa. This ignores an empty update.\n            var oldValue = firstChild.nodeValue;\n\n            if (oldValue == newValue || (!newValue && oldValue == fromEl.placeholder)) {\n                return;\n            }\n\n            firstChild.nodeValue = newValue;\n        }\n    },\n    SELECT: function(fromEl, toEl) {\n        if (!toEl.hasAttribute('multiple')) {\n            var selectedIndex = -1;\n            var i = 0;\n            // We have to loop through children of fromEl, not toEl since nodes can be moved\n            // from toEl to fromEl directly when morphing.\n            // At the time this special handler is invoked, all children have already been morphed\n            // and appended to / removed from fromEl, so using fromEl here is safe and correct.\n            var curChild = fromEl.firstChild;\n            var optgroup;\n            var nodeName;\n            while(curChild) {\n                nodeName = curChild.nodeName && curChild.nodeName.toUpperCase();\n                if (nodeName === 'OPTGROUP') {\n                    optgroup = curChild;\n                    curChild = optgroup.firstChild;\n                } else {\n                    if (nodeName === 'OPTION') {\n                        if (curChild.hasAttribute('selected')) {\n                            selectedIndex = i;\n                            break;\n                        }\n                        i++;\n                    }\n                    curChild = curChild.nextSibling;\n                    if (!curChild && optgroup) {\n                        curChild = optgroup.nextSibling;\n                        optgroup = null;\n                    }\n                }\n            }\n\n            fromEl.selectedIndex = selectedIndex;\n        }\n    }\n};\n\nvar ELEMENT_NODE = 1;\nvar DOCUMENT_FRAGMENT_NODE$1 = 11;\nvar TEXT_NODE = 3;\nvar COMMENT_NODE = 8;\n\nfunction noop() {}\n\nfunction defaultGetNodeKey(node) {\n  if (node) {\n      return (node.getAttribute && node.getAttribute('id')) || node.id;\n  }\n}\n\nfunction morphdomFactory(morphAttrs) {\n\n    return function morphdom(fromNode, toNode, options) {\n        if (!options) {\n            options = {};\n        }\n\n        if (typeof toNode === 'string') {\n            if (fromNode.nodeName === '#document' || fromNode.nodeName === 'HTML' || fromNode.nodeName === 'BODY') {\n                var toNodeHtml = toNode;\n                toNode = doc.createElement('html');\n                toNode.innerHTML = toNodeHtml;\n            } else {\n                toNode = toElement(toNode);\n            }\n        }\n\n        var getNodeKey = options.getNodeKey || defaultGetNodeKey;\n        var onBeforeNodeAdded = options.onBeforeNodeAdded || noop;\n        var onNodeAdded = options.onNodeAdded || noop;\n        var onBeforeElUpdated = options.onBeforeElUpdated || noop;\n        var onElUpdated = options.onElUpdated || noop;\n        var onBeforeNodeDiscarded = options.onBeforeNodeDiscarded || noop;\n        var onNodeDiscarded = options.onNodeDiscarded || noop;\n        var onBeforeElChildrenUpdated = options.onBeforeElChildrenUpdated || noop;\n        var childrenOnly = options.childrenOnly === true;\n\n        // This object is used as a lookup to quickly find all keyed elements in the original DOM tree.\n        var fromNodesLookup = Object.create(null);\n        var keyedRemovalList = [];\n\n        function addKeyedRemoval(key) {\n            keyedRemovalList.push(key);\n        }\n\n        function walkDiscardedChildNodes(node, skipKeyedNodes) {\n            if (node.nodeType === ELEMENT_NODE) {\n                var curChild = node.firstChild;\n                while (curChild) {\n\n                    var key = undefined;\n\n                    if (skipKeyedNodes && (key = getNodeKey(curChild))) {\n                        // If we are skipping keyed nodes then we add the key\n                        // to a list so that it can be handled at the very end.\n                        addKeyedRemoval(key);\n                    } else {\n                        // Only report the node as discarded if it is not keyed. We do this because\n                        // at the end we loop through all keyed elements that were unmatched\n                        // and then discard them in one final pass.\n                        onNodeDiscarded(curChild);\n                        if (curChild.firstChild) {\n                            walkDiscardedChildNodes(curChild, skipKeyedNodes);\n                        }\n                    }\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        /**\n         * Removes a DOM node out of the original DOM\n         *\n         * @param  {Node} node The node to remove\n         * @param  {Node} parentNode The nodes parent\n         * @param  {Boolean} skipKeyedNodes If true then elements with keys will be skipped and not discarded.\n         * @return {undefined}\n         */\n        function removeNode(node, parentNode, skipKeyedNodes) {\n            if (onBeforeNodeDiscarded(node) === false) {\n                return;\n            }\n\n            if (parentNode) {\n                parentNode.removeChild(node);\n            }\n\n            onNodeDiscarded(node);\n            walkDiscardedChildNodes(node, skipKeyedNodes);\n        }\n\n        // // TreeWalker implementation is no faster, but keeping this around in case this changes in the future\n        // function indexTree(root) {\n        //     var treeWalker = document.createTreeWalker(\n        //         root,\n        //         NodeFilter.SHOW_ELEMENT);\n        //\n        //     var el;\n        //     while((el = treeWalker.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        // // NodeIterator implementation is no faster, but keeping this around in case this changes in the future\n        //\n        // function indexTree(node) {\n        //     var nodeIterator = document.createNodeIterator(node, NodeFilter.SHOW_ELEMENT);\n        //     var el;\n        //     while((el = nodeIterator.nextNode())) {\n        //         var key = getNodeKey(el);\n        //         if (key) {\n        //             fromNodesLookup[key] = el;\n        //         }\n        //     }\n        // }\n\n        function indexTree(node) {\n            if (node.nodeType === ELEMENT_NODE || node.nodeType === DOCUMENT_FRAGMENT_NODE$1) {\n                var curChild = node.firstChild;\n                while (curChild) {\n                    var key = getNodeKey(curChild);\n                    if (key) {\n                        fromNodesLookup[key] = curChild;\n                    }\n\n                    // Walk recursively\n                    indexTree(curChild);\n\n                    curChild = curChild.nextSibling;\n                }\n            }\n        }\n\n        indexTree(fromNode);\n\n        function handleNodeAdded(el) {\n            onNodeAdded(el);\n\n            var curChild = el.firstChild;\n            while (curChild) {\n                var nextSibling = curChild.nextSibling;\n\n                var key = getNodeKey(curChild);\n                if (key) {\n                    var unmatchedFromEl = fromNodesLookup[key];\n                    // if we find a duplicate #id node in cache, replace `el` with cache value\n                    // and morph it to the child node.\n                    if (unmatchedFromEl && compareNodeNames(curChild, unmatchedFromEl)) {\n                        curChild.parentNode.replaceChild(unmatchedFromEl, curChild);\n                        morphEl(unmatchedFromEl, curChild);\n                    } else {\n                      handleNodeAdded(curChild);\n                    }\n                } else {\n                  // recursively call for curChild and it's children to see if we find something in\n                  // fromNodesLookup\n                  handleNodeAdded(curChild);\n                }\n\n                curChild = nextSibling;\n            }\n        }\n\n        function cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey) {\n            // We have processed all of the \"to nodes\". If curFromNodeChild is\n            // non-null then we still have some from nodes left over that need\n            // to be removed\n            while (curFromNodeChild) {\n                var fromNextSibling = curFromNodeChild.nextSibling;\n                if ((curFromNodeKey = getNodeKey(curFromNodeChild))) {\n                    // Since the node is keyed it might be matched up later so we defer\n                    // the actual removal to later\n                    addKeyedRemoval(curFromNodeKey);\n                } else {\n                    // NOTE: we skip nested keyed nodes from being removed since there is\n                    //       still a chance they will be matched up later\n                    removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                }\n                curFromNodeChild = fromNextSibling;\n            }\n        }\n\n        function morphEl(fromEl, toEl, childrenOnly) {\n            var toElKey = getNodeKey(toEl);\n\n            if (toElKey) {\n                // If an element with an ID is being morphed then it will be in the final\n                // DOM so clear it out of the saved elements collection\n                delete fromNodesLookup[toElKey];\n            }\n\n            if (!childrenOnly) {\n                // optional\n                if (onBeforeElUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n\n                // update attributes on original DOM element first\n                morphAttrs(fromEl, toEl);\n                // optional\n                onElUpdated(fromEl);\n\n                if (onBeforeElChildrenUpdated(fromEl, toEl) === false) {\n                    return;\n                }\n            }\n\n            if (fromEl.nodeName !== 'TEXTAREA') {\n              morphChildren(fromEl, toEl);\n            } else {\n              specialElHandlers.TEXTAREA(fromEl, toEl);\n            }\n        }\n\n        function morphChildren(fromEl, toEl) {\n            var curToNodeChild = toEl.firstChild;\n            var curFromNodeChild = fromEl.firstChild;\n            var curToNodeKey;\n            var curFromNodeKey;\n\n            var fromNextSibling;\n            var toNextSibling;\n            var matchingFromEl;\n\n            // walk the children\n            outer: while (curToNodeChild) {\n                toNextSibling = curToNodeChild.nextSibling;\n                curToNodeKey = getNodeKey(curToNodeChild);\n\n                // walk the fromNode children all the way through\n                while (curFromNodeChild) {\n                    fromNextSibling = curFromNodeChild.nextSibling;\n\n                    if (curToNodeChild.isSameNode && curToNodeChild.isSameNode(curFromNodeChild)) {\n                        curToNodeChild = toNextSibling;\n                        curFromNodeChild = fromNextSibling;\n                        continue outer;\n                    }\n\n                    curFromNodeKey = getNodeKey(curFromNodeChild);\n\n                    var curFromNodeType = curFromNodeChild.nodeType;\n\n                    // this means if the curFromNodeChild doesnt have a match with the curToNodeChild\n                    var isCompatible = undefined;\n\n                    if (curFromNodeType === curToNodeChild.nodeType) {\n                        if (curFromNodeType === ELEMENT_NODE) {\n                            // Both nodes being compared are Element nodes\n\n                            if (curToNodeKey) {\n                                // The target node has a key so we want to match it up with the correct element\n                                // in the original DOM tree\n                                if (curToNodeKey !== curFromNodeKey) {\n                                    // The current element in the original DOM tree does not have a matching key so\n                                    // let's check our lookup to see if there is a matching element in the original\n                                    // DOM tree\n                                    if ((matchingFromEl = fromNodesLookup[curToNodeKey])) {\n                                        if (fromNextSibling === matchingFromEl) {\n                                            // Special case for single element removals. To avoid removing the original\n                                            // DOM node out of the tree (since that can break CSS transitions, etc.),\n                                            // we will instead discard the current node and wait until the next\n                                            // iteration to properly match up the keyed target element with its matching\n                                            // element in the original tree\n                                            isCompatible = false;\n                                        } else {\n                                            // We found a matching keyed element somewhere in the original DOM tree.\n                                            // Let's move the original DOM node into the current position and morph\n                                            // it.\n\n                                            // NOTE: We use insertBefore instead of replaceChild because we want to go through\n                                            // the `removeNode()` function for the node that is being discarded so that\n                                            // all lifecycle hooks are correctly invoked\n                                            fromEl.insertBefore(matchingFromEl, curFromNodeChild);\n\n                                            // fromNextSibling = curFromNodeChild.nextSibling;\n\n                                            if (curFromNodeKey) {\n                                                // Since the node is keyed it might be matched up later so we defer\n                                                // the actual removal to later\n                                                addKeyedRemoval(curFromNodeKey);\n                                            } else {\n                                                // NOTE: we skip nested keyed nodes from being removed since there is\n                                                //       still a chance they will be matched up later\n                                                removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                                            }\n\n                                            curFromNodeChild = matchingFromEl;\n                                        }\n                                    } else {\n                                        // The nodes are not compatible since the \"to\" node has a key and there\n                                        // is no matching keyed node in the source tree\n                                        isCompatible = false;\n                                    }\n                                }\n                            } else if (curFromNodeKey) {\n                                // The original has a key\n                                isCompatible = false;\n                            }\n\n                            isCompatible = isCompatible !== false && compareNodeNames(curFromNodeChild, curToNodeChild);\n                            if (isCompatible) {\n                                // We found compatible DOM elements so transform\n                                // the current \"from\" node to match the current\n                                // target DOM node.\n                                // MORPH\n                                morphEl(curFromNodeChild, curToNodeChild);\n                            }\n\n                        } else if (curFromNodeType === TEXT_NODE || curFromNodeType == COMMENT_NODE) {\n                            // Both nodes being compared are Text or Comment nodes\n                            isCompatible = true;\n                            // Simply update nodeValue on the original node to\n                            // change the text value\n                            if (curFromNodeChild.nodeValue !== curToNodeChild.nodeValue) {\n                                curFromNodeChild.nodeValue = curToNodeChild.nodeValue;\n                            }\n\n                        }\n                    }\n\n                    if (isCompatible) {\n                        // Advance both the \"to\" child and the \"from\" child since we found a match\n                        // Nothing else to do as we already recursively called morphChildren above\n                        curToNodeChild = toNextSibling;\n                        curFromNodeChild = fromNextSibling;\n                        continue outer;\n                    }\n\n                    // No compatible match so remove the old node from the DOM and continue trying to find a\n                    // match in the original DOM. However, we only do this if the from node is not keyed\n                    // since it is possible that a keyed node might match up with a node somewhere else in the\n                    // target tree and we don't want to discard it just yet since it still might find a\n                    // home in the final DOM tree. After everything is done we will remove any keyed nodes\n                    // that didn't find a home\n                    if (curFromNodeKey) {\n                        // Since the node is keyed it might be matched up later so we defer\n                        // the actual removal to later\n                        addKeyedRemoval(curFromNodeKey);\n                    } else {\n                        // NOTE: we skip nested keyed nodes from being removed since there is\n                        //       still a chance they will be matched up later\n                        removeNode(curFromNodeChild, fromEl, true /* skip keyed nodes */);\n                    }\n\n                    curFromNodeChild = fromNextSibling;\n                } // END: while(curFromNodeChild) {}\n\n                // If we got this far then we did not find a candidate match for\n                // our \"to node\" and we exhausted all of the children \"from\"\n                // nodes. Therefore, we will just append the current \"to\" node\n                // to the end\n                if (curToNodeKey && (matchingFromEl = fromNodesLookup[curToNodeKey]) && compareNodeNames(matchingFromEl, curToNodeChild)) {\n                    fromEl.appendChild(matchingFromEl);\n                    // MORPH\n                    morphEl(matchingFromEl, curToNodeChild);\n                } else {\n                    var onBeforeNodeAddedResult = onBeforeNodeAdded(curToNodeChild);\n                    if (onBeforeNodeAddedResult !== false) {\n                        if (onBeforeNodeAddedResult) {\n                            curToNodeChild = onBeforeNodeAddedResult;\n                        }\n\n                        if (curToNodeChild.actualize) {\n                            curToNodeChild = curToNodeChild.actualize(fromEl.ownerDocument || doc);\n                        }\n                        fromEl.appendChild(curToNodeChild);\n                        handleNodeAdded(curToNodeChild);\n                    }\n                }\n\n                curToNodeChild = toNextSibling;\n                curFromNodeChild = fromNextSibling;\n            }\n\n            cleanupFromEl(fromEl, curFromNodeChild, curFromNodeKey);\n\n            var specialElHandler = specialElHandlers[fromEl.nodeName];\n            if (specialElHandler) {\n                specialElHandler(fromEl, toEl);\n            }\n        } // END: morphChildren(...)\n\n        var morphedNode = fromNode;\n        var morphedNodeType = morphedNode.nodeType;\n        var toNodeType = toNode.nodeType;\n\n        if (!childrenOnly) {\n            // Handle the case where we are given two DOM nodes that are not\n            // compatible (e.g. <div> --> <span> or <div> --> TEXT)\n            if (morphedNodeType === ELEMENT_NODE) {\n                if (toNodeType === ELEMENT_NODE) {\n                    if (!compareNodeNames(fromNode, toNode)) {\n                        onNodeDiscarded(fromNode);\n                        morphedNode = moveChildren(fromNode, createElementNS(toNode.nodeName, toNode.namespaceURI));\n                    }\n                } else {\n                    // Going from an element node to a text node\n                    morphedNode = toNode;\n                }\n            } else if (morphedNodeType === TEXT_NODE || morphedNodeType === COMMENT_NODE) { // Text or comment node\n                if (toNodeType === morphedNodeType) {\n                    if (morphedNode.nodeValue !== toNode.nodeValue) {\n                        morphedNode.nodeValue = toNode.nodeValue;\n                    }\n\n                    return morphedNode;\n                } else {\n                    // Text node to something else\n                    morphedNode = toNode;\n                }\n            }\n        }\n\n        if (morphedNode === toNode) {\n            // The \"to node\" was not compatible with the \"from node\" so we had to\n            // toss out the \"from node\" and use the \"to node\"\n            onNodeDiscarded(fromNode);\n        } else {\n            if (toNode.isSameNode && toNode.isSameNode(morphedNode)) {\n                return;\n            }\n\n            morphEl(morphedNode, toNode, childrenOnly);\n\n            // We now need to loop over any keyed nodes that might need to be\n            // removed. We only do the removal if we know that the keyed node\n            // never found a match. When a keyed node is matched up we remove\n            // it out of fromNodesLookup and we use fromNodesLookup to determine\n            // if a keyed node has been matched up or not\n            if (keyedRemovalList) {\n                for (var i=0, len=keyedRemovalList.length; i<len; i++) {\n                    var elToRemove = fromNodesLookup[keyedRemovalList[i]];\n                    if (elToRemove) {\n                        removeNode(elToRemove, elToRemove.parentNode, false);\n                    }\n                }\n            }\n        }\n\n        if (!childrenOnly && morphedNode !== fromNode && fromNode.parentNode) {\n            if (morphedNode.actualize) {\n                morphedNode = morphedNode.actualize(fromNode.ownerDocument || doc);\n            }\n            // If we had to swap out the from node with a new node because the old\n            // node was not compatible with the target node then we need to\n            // replace the old DOM node in the original DOM tree. This is only\n            // possible if the original DOM node was part of a DOM tree which\n            // we know is the case if it has a parent node.\n            fromNode.parentNode.replaceChild(morphedNode, fromNode);\n        }\n\n        return morphedNode;\n    };\n}\n\nvar morphdom = morphdomFactory(morphAttrs);\n\nexport default morphdom;\n","import { rAF, dup, stripTemplateTag, buildtemplates } from './utils';\nimport { on, off, trigger } from './utils/events';\nimport { publish, subscribe, unsubscribe } from './utils/pubsub';\nimport morphdom from 'morphdom';\nexport default function WebComponent(module, dependencies, templates, components) {\n    return class extends HTMLElement {\n        constructor() {\n            super();\n            stripTemplateTag(this);\n            buildtemplates(this, components, templates);\n            const tplid = this.getAttribute('tplid');\n            const template = templates[tplid];\n            this.__internal__ = {\n                main: () => null,\n                unmount: () => null,\n                mount: () => null,\n                onupdate: () => null,\n                methods: {},\n                state: module.model\n                    ? dup(module.model)\n                    : (this.dataset.initialState ? JSON.parse(this.dataset.initialState) : {})\n            };\n            this.base = {\n                template,\n                dependencies,\n                publish,\n                subscribe,\n                unsubscribe,\n                elm: this,\n                main: (fn) => { this.__internal__.main = fn; },\n                unmount: (fn) => { this.__internal__.unmount = fn; },\n                mount: (fn) => { this.__internal__.mount = fn; },\n                onupdate: (fn) => { this.__internal__.onupdate = fn; },\n                render: (data = this.__internal__.state) => {\n                    this.__internal__.state = Object.assign(this.__internal__.state, data);\n                    const newdata = dup(this.__internal__.state);\n                    const newhtml = this.base.template(newdata);\n                    morphdom(this, newhtml, morphdomOptions(this, data));\n                },\n                state: {\n                    set: (data) => {\n                        if (data.constructor === Function) {\n                            const newstate = dup(this.__internal__.state);\n                            data(newstate);\n                            this.base.render(newstate);\n                        }\n                        else {\n                            this.base.render(data);\n                        }\n                        return new Promise((resolve) => rAF(_ => rAF(resolve)));\n                    },\n                    get: () => {\n                        return dup(this.__internal__.state);\n                    }\n                },\n                on: (eventName, selectorOrCallback, callback) => {\n                    on(this, eventName, selectorOrCallback, callback);\n                },\n                off: (eventName, callback) => {\n                    off(this, eventName, callback);\n                },\n                trigger: (eventName, target, args) => {\n                    if (target.constructor === String)\n                        trigger(this.querySelector(target), eventName, { args: args });\n                    else\n                        trigger(this, eventName, { args: target });\n                },\n                emit: (...args) => {\n                    trigger(this, args.shift(), { args: args });\n                }\n            };\n            module.default(this.base);\n        }\n        connectedCallback() {\n            rAF(_ => {\n                this.__internal__.main().forEach(f => f(this.base));\n                this.__internal__.mount(this.base);\n                this.base.render();\n                console.log(this.base.elm);\n            });\n        }\n        disconnectedCallback() {\n            this.__internal__.unmount(this.base);\n            delete this.__internal__;\n            delete this.base;\n            delete this.__events;\n        }\n        attributeChangedCallback() {\n            //TODO\n        }\n    };\n}\nconst morphdomOptions = (_parent, data) => {\n    return {\n        onNodeAdded: scopeElement(_parent),\n        onElUpdated: scopeElement(_parent),\n        onBeforeElChildrenUpdated(node) {\n            if ('static' in node.dataset) {\n                return false;\n            }\n            return true;\n        },\n        getNodeKey(node) {\n            if (node.nodeType === 1 && node.getAttribute('tplid'))\n                return node.dataset.key || node.getAttribute('tplid');\n            return false;\n        }\n    };\n};\nconst scopeElement = (_parent) => (node) => {\n    if (node.nodeType === 1) {\n        if ('static' in node.dataset) {\n            return false;\n        }\n        if (node.getAttribute && node.getAttribute('scope')) {\n            const scope = JSON.parse(node.getAttribute('scope').replace(/\\'/g, '\\\"'));\n            Array.from(node.querySelectorAll('*'))\n                .filter(el => el.__internal__)\n                .map(el => {\n                const data = Object.assign(el.__internal__.state, _parent.__internal__.state, scope);\n                el.__internal__.onupdate(data);\n                return el;\n            });\n            node.removeAttribute('scope');\n        }\n    }\n};\n","import { stripTemplateTag, buildtemplates } from './utils';\nimport WebComponent from './component';\nexport const templates = {};\nexport const components = {};\nexport default {\n    register(name, module, dependencies = {}) {\n        components[name] = { name, module, dependencies };\n    },\n    start() {\n        const body = document.body;\n        stripTemplateTag(body);\n        buildtemplates(body, components, templates);\n        registerComponents();\n    }\n};\nconst registerComponents = () => {\n    Object\n        .values(components)\n        .forEach(({ name, module, dependencies }) => {\n        const Element = WebComponent(module, dependencies, templates, components);\n        customElements.define(name, Element);\n    });\n};\n"],"names":["root","factory","exports","module","define","amd","self","t7ctx","window","g","undefined","Template7Context","Template7Utils","quoteSingleRexExp","RegExp","quoteDoubleRexExp","isFunction","func","escape","string","replace","helperToSlices","helperParts","trim","split","slices","shiftIndex","i","j","length","blockQuoteRegExp","openingQuote","part","push","indexOf","match","hashParts","hashName","hashContent","hash","stringToBlocks","blocks","stringBlocks","block","type","content","contextName","helperSlices","helperName","isPartial","helperContext","helperHash","slice","Array","isArray","helperContent","elseContent","toSkip","foundClosed","foundElse","depth","inverseContent","parseJsVariable","expression","object","reduce","arr","JSON","stringify","variable","forEach","partName","constructor","Object","join","parseJsParents","parents","levelsUp","getCompileVar","name","ctx","data","parts","newDepth","dataLevel","Number","isFinite","getCompiledArguments","contextArray","test","Template7Helpers","_partial","partialName","options","this","p","Template7Class","partials","template","compiled","compile","keys","context","Error","if","call","fn","inverse","unless","each","ret","reverse","first","last","index","key","with","delimiter","delimeter","js","execute","prop","re1","re2","Template7","global","eval","js_if","condition","js_compare","Template7Options","Template7Partials","t","getCompileFn","getCompileInverse","resultString","compiledArguments","dynamicHelper","level","parentsString","helpers","args","instance","rendered","registerHelper","unregisterHelper","registerPartial","unregisterPartial","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","d","definition","o","defineProperty","enumerable","get","globalThis","Function","e","obj","prototype","hasOwnProperty","r","Symbol","toStringTag","value","htmlRepeatAndIf","vdom","nodes","from","querySelectorAll","node","getAttribute","instruction","removeAttribute","setAttribute","outerHTML","scope","assign","rAF","requestAnimationFrame","setTimeout","stripTemplateTag","element","parentNode","replaceChild","dup","parse","buildtemplates","target","components","templates","filter","tagName","toLocaleLowerCase","map","tplid","id","c","Math","random","toString","directives","cloneNode","html","_","directive","templateSystem","createTemplateId","customEvent","CustomEvent","newEvent","document","createEvent","initCustomEvent","handler","ev","detail","__events","apply","concat","removeListener","listener","removeEventListener","delegate","selector","callback","parent","matches","delegateTarget","trigger","dispatchEvent","bubbles","topics","_async","publish","params","topic","subscribe","method","unsubscribe","range","doc","HAS_TEMPLATE_SUPPORT","createElement","HAS_RANGE_SUPPORT","createRange","compareNodeNames","fromEl","toEl","fromCodeStart","toCodeStart","fromNodeName","nodeName","toNodeName","charCodeAt","toUpperCase","syncBooleanAttrProp","specialElHandlers","OPTION","parentName","hasAttribute","selected","selectedIndex","INPUT","TEXTAREA","newValue","firstChild","oldValue","nodeValue","placeholder","SELECT","optgroup","curChild","nextSibling","noop","defaultGetNodeKey","fromNode","toNode","toNodeHtml","innerHTML","str","childNodes","createFragmentFromTemplate","selectNode","body","createContextualFragment","createFragmentFromRange","fragment","createFragmentFromWrap","getNodeKey","onBeforeNodeAdded","onNodeAdded","onBeforeElUpdated","onElUpdated","onBeforeNodeDiscarded","onNodeDiscarded","onBeforeElChildrenUpdated","childrenOnly","fromNodesLookup","create","keyedRemovalList","addKeyedRemoval","walkDiscardedChildNodes","skipKeyedNodes","nodeType","removeNode","removeChild","handleNodeAdded","el","unmatchedFromEl","morphEl","toElKey","attr","attrName","attrNamespaceURI","attrValue","toNodeAttrs","attributes","namespaceURI","localName","getAttributeNS","prefix","setAttributeNS","fromNodeAttrs","hasAttributeNS","removeAttributeNS","morphAttrs","curToNodeKey","curFromNodeKey","fromNextSibling","toNextSibling","matchingFromEl","curToNodeChild","curFromNodeChild","outer","isSameNode","curFromNodeType","isCompatible","insertBefore","appendChild","onBeforeNodeAddedResult","actualize","ownerDocument","cleanupFromEl","specialElHandler","morphChildren","indexTree","morphedNode","morphedNodeType","toNodeType","nextChild","moveChildren","createElementNS","len","elToRemove","morphdomOptions","_parent","scopeElement","dataset","__internal__","state","onupdate","register","dependencies","start","registerComponents","values","Element","HTMLElement","super","main","unmount","mount","methods","model","initialState","base","elm","render","newdata","newhtml","set","newstate","Promise","resolve","on","eventName","selectorOrCallback","addEventListener","off","old","String","querySelector","emit","shift","default","connectedCallback","f","console","log","disconnectedCallback","attributeChangedCallback","WebComponent","customElements"],"sourceRoot":""}