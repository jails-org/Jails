!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("jails",[],t):"object"==typeof exports?exports.jails=t():e.jails=t()}(self,(function(){return(()=>{"use strict";var __webpack_modules__={676:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{let t7ctx;__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__}),t7ctx="undefined"!=typeof window?window:void 0!==__webpack_require__.g?__webpack_require__.g:void 0;const Template7Context=t7ctx,Template7Utils={quoteSingleRexExp:new RegExp("'","g"),quoteDoubleRexExp:new RegExp('"',"g"),isFunction:e=>"function"==typeof e,escape:(e="")=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),helperToSlices(e){const{quoteDoubleRexExp:t,quoteSingleRexExp:n}=Template7Utils,r=e.replace(/[{}#}]/g,"").trim().split(" "),i=[];let a,l,o;for(l=0;l<r.length;l+=1){let e,s,c=r[l];if(0===l)i.push(c);else if(0===c.indexOf('"')||0===c.indexOf("'"))if(e=0===c.indexOf('"')?t:n,s=0===c.indexOf('"')?'"':"'",2===c.match(e).length)i.push(c);else{for(a=0,o=l+1;o<r.length;o+=1)if(c+=` ${r[o]}`,r[o].indexOf(s)>=0){a=o,i.push(c);break}a&&(l=a)}else if(c.indexOf("=")>0){const p=c.split("="),u=p[0];let d=p[1];if(e||(e=0===d.indexOf('"')?t:n,s=0===d.indexOf('"')?'"':"'"),2!==d.match(e).length){for(a=0,o=l+1;o<r.length;o+=1)if(d+=` ${r[o]}`,r[o].indexOf(s)>=0){a=o;break}a&&(l=a)}const f=[u,d.replace(e,"")];i.push(f)}else i.push(c)}return i},stringToBlocks(e){const t=[];let n,r;if(!e)return[];const i=e.split(/({{[^{^}]*}})/);for(n=0;n<i.length;n+=1){let e=i[n];if(""!==e)if(e.indexOf("{{")<0)t.push({type:"plain",content:e});else{if(e.indexOf("{/")>=0)continue;if(e=e.replace(/{{([#/])*([ ])*/,"{{$1").replace(/([ ])*}}/,"}}"),e.indexOf("{#")<0&&e.indexOf(" ")<0&&e.indexOf("else")<0){t.push({type:"variable",contextName:e.replace(/[{}]/g,"")});continue}const a=Template7Utils.helperToSlices(e);let l=a[0];const o=">"===l,s=[],c={};for(r=1;r<a.length;r+=1){const e=a[r];Array.isArray(e)?c[e[0]]="false"!==e[1]&&e[1]:s.push(e)}if(e.indexOf("{#")>=0){let e,a="",o="",p=0,u=!1,d=!1,f=0;for(r=n+1;r<i.length;r+=1)if(i[r].indexOf("{{#")>=0&&(f+=1),i[r].indexOf("{{/")>=0&&(f-=1),i[r].indexOf(`{{#${l}`)>=0)a+=i[r],d&&(o+=i[r]),p+=1;else if(i[r].indexOf(`{{/${l}`)>=0){if(!(p>0)){e=r,u=!0;break}p-=1,a+=i[r],d&&(o+=i[r])}else i[r].indexOf("else")>=0&&0===f?d=!0:(d||(a+=i[r]),d&&(o+=i[r]));u&&(e&&(n=e),"raw"===l?t.push({type:"plain",content:a}):t.push({type:"helper",helperName:l,contextName:s,content:a,inverseContent:o,hash:c}))}else e.indexOf(" ")>0&&(o&&(l="_partial",s[0]&&(0===s[0].indexOf("[")?s[0]=s[0].replace(/[[\]]/g,""):s[0]=`"${s[0].replace(/"|'/g,"")}"`)),t.push({type:"helper",helperName:l,contextName:s,hash:c}))}}return t},parseJsVariable:(e,t,n)=>e.split(/([+ \-*/^()&=|<>!%:?])/g).reduce(((e,r)=>{if(!r)return e;if(r.indexOf(t)<0)return e.push(r),e;if(!n)return e.push(JSON.stringify("")),e;let i=n;return r.indexOf(`${t}.`)>=0&&r.split(`${t}.`)[1].split(".").forEach((e=>{i=e in i?i[e]:void 0})),("string"==typeof i||Array.isArray(i)||i.constructor&&i.constructor===Object)&&(i=JSON.stringify(i)),void 0===i&&(i="undefined"),e.push(i),e}),[]).join(""),parseJsParents:(e,t)=>e.split(/([+ \-*^()&=|<>!%:?])/g).reduce(((e,n)=>{if(!n)return e;if(n.indexOf("../")<0)return e.push(n),e;if(!t||0===t.length)return e.push(JSON.stringify("")),e;const r=n.split("../").length-1;let i=r>t.length?t[t.length-1]:t[r-1];return n.replace(/..\//g,"").split(".").forEach((e=>{i=void 0!==i[e]?i[e]:"undefined"})),!1===i||!0===i?(e.push(JSON.stringify(i)),e):null===i||"undefined"===i?(e.push(JSON.stringify("")),e):(e.push(JSON.stringify(i)),e)}),[]).join(""),getCompileVar(e,t,n="data_1"){let r,i,a=t,l=0;0===e.indexOf("../")?(l=e.split("../").length-1,i=a.split("_")[1]-l,a=`ctx_${i>=1?i:1}`,r=e.split("../")[l].split(".")):0===e.indexOf("@global")?(a="Template7.global",r=e.split("@global.")[1].split(".")):0===e.indexOf("@root")?(a="root",r=e.split("@root.")[1].split(".")):r=e.split(".");for(let e=0;e<r.length;e+=1){const o=r[e];if(0===o.indexOf("@")){let t=n.split("_")[1];l>0&&(t=i),e>0?a+=`[(data_${t} && data_${t}.${o.replace("@","")})]`:a=`(data_${t} && data_${t}.${o.replace("@","")})`}else(Number.isFinite?Number.isFinite(o):Template7Context.isFinite(o))?a+=`[${o}]`:"this"===o||o.indexOf("this.")>=0||o.indexOf("this[")>=0||o.indexOf("this(")>=0?a=o.replace("this",t):a+=`.${o}`}return a},getCompiledArguments(e,t,n){const r=[];for(let i=0;i<e.length;i+=1)/^['"]/.test(e[i])||/^(true|false|\d+)$/.test(e[i])?r.push(e[i]):r.push(Template7Utils.getCompileVar(e[i],t,n));return r.join(", ")}},Template7Helpers={_partial(e,t){const n=this,r=Template7Class.partials[e];return!r||r&&!r.template?"":(r.compiled||(r.compiled=new Template7Class(r.template).compile()),Object.keys(t.hash).forEach((e=>{n[e]=t.hash[e]})),r.compiled(n,t.data,t.root))},escape(e){if(null==e)return"";if("string"!=typeof e)throw new Error('Template7: Passed context to "escape" helper should be a string');return Template7Utils.escape(e)},if(e,t){let n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?t.fn(this,t.data):t.inverse(this,t.data)},unless(e,t){let n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n?t.inverse(this,t.data):t.fn(this,t.data)},each(e,t){let n=e,r="",i=0;if(Template7Utils.isFunction(n)&&(n=n.call(this)),Array.isArray(n)){for(t.hash.reverse&&(n=n.reverse()),i=0;i<n.length;i+=1)r+=t.fn(n[i],{first:0===i,last:i===n.length-1,index:i});t.hash.reverse&&(n=n.reverse())}else for(const e in n)i+=1,r+=t.fn(n[e],{key:e});return i>0?r:t.inverse(this)},with(e,t){let n=e;return Template7Utils.isFunction(n)&&(n=e.call(this)),t.fn(n)},join(e,t){let n=e;return Template7Utils.isFunction(n)&&(n=n.call(this)),n.join(t.hash.delimiter||t.hash.delimeter)},js(expression,options){const data=options.data;let func,execute=expression;return"index first last key".split(" ").forEach((e=>{if(void 0!==data[e]){const t=new RegExp(`this.@${e}`,"g"),n=new RegExp(`@${e}`,"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(n,JSON.stringify(data[e]))}})),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?`(function(){${execute}})`:`(function(){return (${execute})})`,eval(func).call(this)},js_if(expression,options){const data=options.data;let func,execute=expression;"index first last key".split(" ").forEach((e=>{if(void 0!==data[e]){const t=new RegExp(`this.@${e}`,"g"),n=new RegExp(`@${e}`,"g");execute=execute.replace(t,JSON.stringify(data[e])).replace(n,JSON.stringify(data[e]))}})),options.root&&execute.indexOf("@root")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@root",options.root)),execute.indexOf("@global")>=0&&(execute=Template7Utils.parseJsVariable(execute,"@global",Template7Context.Template7.global)),execute.indexOf("../")>=0&&(execute=Template7Utils.parseJsParents(execute,options.parents)),func=execute.indexOf("return")>=0?`(function(){${execute}})`:`(function(){return (${execute})})`;const condition=eval(func).call(this);return condition?options.fn(this,options.data):options.inverse(this,options.data)}};Template7Helpers.js_compare=Template7Helpers.js_if;const Template7Options={},Template7Partials={};class Template7Class{constructor(e){this.template=e}compile(template=this.template,depth=1){const t=this;if(t.compiled)return t.compiled;if("string"!=typeof template)throw new Error("Template7: Template must be a string");const{stringToBlocks,getCompileVar,getCompiledArguments}=Template7Utils,blocks=stringToBlocks(template),ctx=`ctx_${depth}`,data=`data_${depth}`;if(0===blocks.length)return function(){return""};function getCompileFn(e,n){return e.content?t.compile(e.content,n):function(){return""}}function getCompileInverse(e,n){return e.inverseContent?t.compile(e.inverseContent,n):function(){return""}}let resultString="",i;for(resultString+=1===depth?`(function (${ctx}, ${data}, root) {\n`:`(function (${ctx}, ${data}) {\n`,1===depth&&(resultString+="function isArray(arr){return Array.isArray(arr);}\n",resultString+="function isFunction(func){return (typeof func === 'function');}\n",resultString+='function c(val, ctx) {if (typeof val !== "undefined" && val !== null) {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n',resultString+="root = root || ctx_1 || {};\n"),resultString+="var r = '';\n",i=0;i<blocks.length;i+=1){const e=blocks[i];if("plain"===e.type){resultString+=`r +='${e.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")}';`;continue}let t,n;if("variable"===e.type&&(t=getCompileVar(e.contextName,ctx,data),resultString+=`r += c(${t}, ${ctx});`),"helper"===e.type){let r,i;if("ctx_1"!==ctx){const e=ctx.split("_")[1];let t="ctx_"+(e-1);for(let n=e-2;n>=1;n-=1)t+=`, ctx_${n}`;r=`[${t}]`}else r=`[${ctx}]`;if(0===e.helperName.indexOf("[")&&(e.helperName=getCompileVar(e.helperName.replace(/[[\]]/g,""),ctx,data),i=!0),i||e.helperName in Template7Helpers)n=getCompiledArguments(e.contextName,ctx,data),resultString+=`r += (Template7Helpers${i?`[${e.helperName}]`:`.${e.helperName}`}).call(${ctx}, ${n&&`${n}, `}{hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${r}});`;else{if(e.contextName.length>0)throw new Error(`Template7: Missing helper: "${e.helperName}"`);t=getCompileVar(e.helperName,ctx,data),resultString+=`if (${t}) {`,resultString+=`if (isArray(${t})) {`,resultString+=`r += (Template7Helpers.each).call(${ctx}, ${t}, {hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${r}});`,resultString+="}else {",resultString+=`r += (Template7Helpers.with).call(${ctx}, ${t}, {hash:${JSON.stringify(e.hash)}, data: ${data} || {}, fn: ${getCompileFn(e,depth+1)}, inverse: ${getCompileInverse(e,depth+1)}, root: root, parents: ${r}});`,resultString+="}}"}}}return resultString+="\nreturn r;})",1===depth?(t.compiled=eval(resultString),t.compiled):resultString}static get options(){return Template7Options}static get partials(){return Template7Partials}static get helpers(){return Template7Helpers}}function Template7(...e){const[t,n]=e;if(2===e.length){let e=new Template7Class(t);const r=e.compile()(n);return e=null,r}return new Template7Class(t)}Template7.registerHelper=function(e,t){Template7Class.helpers[e]=t},Template7.unregisterHelper=function(e){Template7Class.helpers[e]=void 0,delete Template7Class.helpers[e]},Template7.registerPartial=function(e,t){Template7Class.partials[e]={template:t}},Template7.unregisterPartial=function(e){Template7Class.partials[e]&&(Template7Class.partials[e]=void 0,delete Template7Class.partials[e])},Template7.compile=function(e,t){return new Template7Class(e,t).compile()},Template7.options=Template7Class.options,Template7.helpers=Template7Class.helpers,Template7.partials=Template7Class.partials;const __WEBPACK_DEFAULT_EXPORT__=Template7}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};return(()=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{components:()=>j,default:()=>q,templates:()=>U});var e=__webpack_require__(676);const t=e=>{const t=Array.from(e.querySelectorAll("[html-repeat],[html-if]")).reverse();return t.length&&t.forEach((e=>{if(e.getAttribute("html-repeat")){const t=e.getAttribute("html-repeat");e.removeAttribute("html-repeat"),e.setAttribute("scope","{{scope this}}");const n=document.createTextNode(`{{#each ${t}}}`),r=document.createTextNode("{{/each}}");e.parentNode.insertBefore(n,e),e.parentNode.insertBefore(r,e.nextSibling)}else if(e.getAttribute("html-if")){const t=e.getAttribute("html-if");e.removeAttribute("html-if"),e.setAttribute("scope","{{scope this}}");const n=document.createTextNode(`{{#ifexp "${t}"}}`),r=document.createTextNode("{{/ifexp}}");e.parentNode.insertBefore(n,e),e.parentNode.insertBefore(r,e.nextSibling)}})),e};e.Z.global={},e.Z.registerHelper("scope",((e,t)=>{const{data:n}=t,{first:r,index:i,last:a,root:l}=n,o=Object.assign(Object.assign({},e),{$first:r,$index:i,$last:a,$parent:l});return JSON.stringify(o).replace(/\"/g,"'")})),e.Z.registerHelper("ifexp",(function(e,t){const n=o(e),{root:r,data:i}=t;try{return new Function("root",`with(root){ return ${n} }`).call(r,r)?t.fn(this,i):t.inverse(this,i)}catch(e){return t.inverse(this,i)}}));const n=document.createElement("textarea"),r=e=>{(requestAnimationFrame||setTimeout)(e,1e3/60)},i=e=>{Array.from(e.querySelectorAll("template")).forEach((e=>{e.parentNode.replaceChild(e.content,e),i(e.content)}))},a=e=>JSON.parse(JSON.stringify(e)),l=(n,r,a)=>Array.from(n.querySelectorAll("*")).filter((e=>e.tagName.toLocaleLowerCase()in r)).reverse().map((n=>(((n,r)=>{const a=n.getAttribute("tplid");if(!a){const a="xxxxxxxx".replace(/[xy]/g,(e=>{const t=8*Math.random()|0;return("x"==e?t:3&t|8).toString(8)}));return n.setAttribute("tplid",a),r[a]=function(n){const r=[t],a=n.cloneNode(!0);i(a);const l=r.reduce(((e,t)=>t(a)),a).outerHTML.replace(/html-/g,""),o=e.Z.compile(l);return e=>o(e)}(n),r[a]}r[a]})(n,a),n))),o=e=>(n.innerHTML=e,n.value);var s,c="undefined"==typeof document?void 0:document,p=!!c&&"content"in c.createElement("template"),u=!!c&&c.createRange&&"createContextualFragment"in c.createRange();function d(e,t){var n,r,i=e.nodeName,a=t.nodeName;return i===a||(n=i.charCodeAt(0),r=a.charCodeAt(0),n<=90&&r>=97?i===a.toUpperCase():r<=90&&n>=97&&a===i.toUpperCase())}function f(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n))}var m={OPTION:function(e,t){var n=e.parentNode;if(n){var r=n.nodeName.toUpperCase();"OPTGROUP"===r&&(r=(n=n.parentNode)&&n.nodeName.toUpperCase()),"SELECT"!==r||n.hasAttribute("multiple")||(e.hasAttribute("selected")&&!t.selected&&(e.setAttribute("selected","selected"),e.removeAttribute("selected")),n.selectedIndex=-1)}f(e,t,"selected")},INPUT:function(e,t){f(e,t,"checked"),f(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),t.hasAttribute("value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n);var r=e.firstChild;if(r){var i=r.nodeValue;if(i==n||!n&&i==e.placeholder)return;r.nodeValue=n}},SELECT:function(e,t){if(!t.hasAttribute("multiple")){for(var n,r,i=-1,a=0,l=e.firstChild;l;)if("OPTGROUP"===(r=l.nodeName&&l.nodeName.toUpperCase()))l=(n=l).firstChild;else{if("OPTION"===r){if(l.hasAttribute("selected")){i=a;break}a++}!(l=l.nextSibling)&&n&&(l=n.nextSibling,n=null)}e.selectedIndex=i}}};function h(){}function g(e){if(e)return e.getAttribute&&e.getAttribute("id")||e.id}const _=function(e,t,n){if(n||(n={}),"string"==typeof t)if("#document"===e.nodeName||"HTML"===e.nodeName||"BODY"===e.nodeName){var r=t;(t=c.createElement("html")).innerHTML=r}else i=(i=t).trim(),t=p?function(e){var t=c.createElement("template");return t.innerHTML=e,t.content.childNodes[0]}(i):u?function(e){return s||(s=c.createRange()).selectNode(c.body),s.createContextualFragment(e).childNodes[0]}(i):function(e){var t=c.createElement("body");return t.innerHTML=e,t.childNodes[0]}(i);var i,a=n.getNodeKey||g,l=n.onBeforeNodeAdded||h,o=n.onNodeAdded||h,f=n.onBeforeElUpdated||h,_=n.onElUpdated||h,x=n.onBeforeNodeDiscarded||h,b=n.onNodeDiscarded||h,v=n.onBeforeElChildrenUpdated||h,T=!0===n.childrenOnly,y=Object.create(null),N=[];function O(e){N.push(e)}function C(e,t){if(1===e.nodeType)for(var n=e.firstChild;n;){var r=void 0;t&&(r=a(n))?O(r):(b(n),n.firstChild&&C(n,t)),n=n.nextSibling}}function A(e,t,n){!1!==x(e)&&(t&&t.removeChild(e),b(e),C(e,n))}function w(e){o(e);for(var t=e.firstChild;t;){var n=t.nextSibling,r=a(t);if(r){var i=y[r];i&&d(t,i)?(t.parentNode.replaceChild(i,t),S(i,t)):w(t)}else w(t);t=n}}function S(e,t,n){var r=a(t);if(r&&delete y[r],!n){if(!1===f(e,t))return;if(function(e,t){var n,r,i,a,l=t.attributes;if(11!==t.nodeType&&11!==e.nodeType){for(var o=l.length-1;o>=0;o--)r=(n=l[o]).name,i=n.namespaceURI,a=n.value,i?(r=n.localName||r,e.getAttributeNS(i,r)!==a&&("xmlns"===n.prefix&&(r=n.name),e.setAttributeNS(i,r,a))):e.getAttribute(r)!==a&&e.setAttribute(r,a);for(var s=e.attributes,c=s.length-1;c>=0;c--)r=(n=s[c]).name,(i=n.namespaceURI)?(r=n.localName||r,t.hasAttributeNS(i,r)||e.removeAttributeNS(i,r)):t.hasAttribute(r)||e.removeAttribute(r)}}(e,t),_(e),!1===v(e,t))return}"TEXTAREA"!==e.nodeName?function(e,t){var n,r,i,o,s,p=t.firstChild,u=e.firstChild;e:for(;p;){for(o=p.nextSibling,n=a(p);u;){if(i=u.nextSibling,p.isSameNode&&p.isSameNode(u)){p=o,u=i;continue e}r=a(u);var f=u.nodeType,h=void 0;if(f===p.nodeType&&(1===f?(n?n!==r&&((s=y[n])?i===s?h=!1:(e.insertBefore(s,u),r?O(r):A(u,e,!0),u=s):h=!1):r&&(h=!1),(h=!1!==h&&d(u,p))&&S(u,p)):3!==f&&8!=f||(h=!0,u.nodeValue!==p.nodeValue&&(u.nodeValue=p.nodeValue))),h){p=o,u=i;continue e}r?O(r):A(u,e,!0),u=i}if(n&&(s=y[n])&&d(s,p))e.appendChild(s),S(s,p);else{var g=l(p);!1!==g&&(g&&(p=g),p.actualize&&(p=p.actualize(e.ownerDocument||c)),e.appendChild(p),w(p))}p=o,u=i}!function(e,t,n){for(;t;){var r=t.nextSibling;(n=a(t))?O(n):A(t,e,!0),t=r}}(e,u,r);var _=m[e.nodeName];_&&_(e,t)}(e,t):m.TEXTAREA(e,t)}!function e(t){if(1===t.nodeType||11===t.nodeType)for(var n=t.firstChild;n;){var r=a(n);r&&(y[r]=n),e(n),n=n.nextSibling}}(e);var $,E,k=e,U=k.nodeType,j=t.nodeType;if(!T)if(1===U)1===j?d(e,t)||(b(e),k=function(e,t){for(var n=e.firstChild;n;){var r=n.nextSibling;t.appendChild(n),n=r}return t}(e,($=t.nodeName,(E=t.namespaceURI)&&"http://www.w3.org/1999/xhtml"!==E?c.createElementNS(E,$):c.createElement($)))):k=t;else if(3===U||8===U){if(j===U)return k.nodeValue!==t.nodeValue&&(k.nodeValue=t.nodeValue),k;k=t}if(k===t)b(e);else{if(t.isSameNode&&t.isSameNode(k))return;if(S(k,t,T),N)for(var q=0,J=N.length;q<J;q++){var P=y[N[q]];P&&A(P,P.parentNode,!1)}}return!T&&k!==e&&e.parentNode&&(k.actualize&&(k=k.actualize(e.ownerDocument||c)),e.parentNode.replaceChild(k,e)),k},x="CustomEvent"in window&&"function"==typeof window.CustomEvent?(e,t)=>new CustomEvent(e,t):(e,t)=>{const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!0,!0,t),n},b=(e,t)=>function(n){const r=this,i=n.detail||{};e.__events[t].forEach((e=>{e.handler.apply(r,[n].concat(i.args))}))},v=(e,t)=>{e.__events[t]&&e.__events[t].listener&&(e.removeEventListener(t,e.__events[t].listener,"focus"==t||"blur"==t||"mouseenter"==t||"mouseleave"==t),delete e.__events[t])},T=(e,t,n)=>function(r){const i=this,a=r.detail||{};let l=r.target;for(;l&&(l.matches(t)&&(r.delegateTarget=l,n.apply(i,[r].concat(a.args))),l!==e);)l=l.parentNode},y=(e,t,n)=>{e.dispatchEvent(x(t,{bubbles:!0,detail:n}))},N={},O={},C=(e,t)=>{O[e]=Object.assign({},O[e],t),N[e]&&N[e].forEach((e=>e(t)))},A=(e,t)=>{N[e]=N[e]||[],N[e].push(t),e in O&&t(O[e])},w=e=>{N[e.name]=(N[e.name]||[]).filter((t=>t!=e.method)),N[e.name].length||(delete N[e.name],delete O[e.name])};const S=e=>({main:e=>e,unmount:e=>e,onupdate:e=>e,view:e.view?e.view:e=>e}),$=(e,t)=>({onNodeAdded:k(e,t),onElUpdated:k(e,t),onBeforeElChildrenUpdated:E,onBeforeElUpdated:E,getNodeKey:e=>!(1!==e.nodeType||!e.getAttribute("tplid"))&&(e.dataset.key||e.getAttribute("tplid"))}),E=e=>{if("static"in e.dataset)return!1},k=(e,t)=>n=>{if(1===n.nodeType&&n.getAttribute&&n.getAttribute("scope")){const r=JSON.parse(n.getAttribute("scope").replace(/\'/g,'"'));Array.from(n.querySelectorAll("[tplid]")).map((n=>{const i=Object.assign({},e.base.state.get(),r);t.onupdate(i),n.base.render(i)})),n.removeAttribute("scope")}},U={},j={},q={register(e,t,n={}){j[e]={name:e,module:t,dependencies:n}},start(){const e=document.body;i(e),l(e,j,U),J()}},J=()=>{Object.values(j).forEach((({name:e,module:t,dependencies:n})=>{const i=function(e,t,n,i){return class extends HTMLElement{constructor(){super();const{base:o,options:s}=function(e,{module:t,dependencies:n,templates:i,components:o}){const s=S(t);l(e,o,i);const c=i[e.getAttribute("tplid")],p={data:t.model?a(t.model):{}};let u=[];const d={template:c,elm:e,dependencies:n,publish:C,subscribe:A,unsubscribe:w,main(e){s.main=e},unmount(e){s.unmount=e},onupdate(e){s.onupdate=e},on(t,n,r){((e,t,n,r)=>{if(e.__events=e.__events||{},e.__events[t]=e.__events[t]||[],!e.__events[t].length){const n=b(e,t);e.addEventListener(t,n,"focus"==t||"blur"==t||"mouseenter"==t||"mouseleave"==t),e.__events[t].listener=n}n.call?e.__events[t].push({handler:n,callback:n}):e.__events[t].push({handler:T(e,n,r),callback:r})})(e,t,n,r)},off(t,n){((e,t,n)=>{if(n&&e.__events[t]&&e.__events[t].length){var r=e.__events[t];e.__events[t]=e.__events[t].filter((function(e){return e.callback!=n})),e.__events[t].listener=r.listener,e.__events[t].length||v(e,t)}else v(e,t)})(e,t,n)},trigger(t,n,r){n.constructor===String?y(e.querySelector(n),t,{args:r}):y(e,t,{args:n})},emit:(...t)=>{y(e,t.shift(),{args:t})},state:{set(e){if(e.constructor===Function){const t=a(p.data);e(t),d.render(t)}else d.render(e);return new Promise((e=>r((t=>r(e)))))},get:()=>a(p.data)},render(t=p.data){document.body.contains(e)&&(u.push(s.view(t)),r((()=>{if(u.length){const t={};u.forEach((e=>Object.assign(t,e))),u=[],p.data=Object.assign(p.data,t);const n=a(p.data),i=d.template(n);_(e,i,$(e,s)),Array.from(e.querySelectorAll("[tplid]")).map((e=>{r((t=>{e.options.onupdate(n),e.base.render(n)}))}))}})))}};return{base:d,options:s}}(this,{module:e,dependencies:t,templates:n,components:i});this.base=o,this.options=s,e.default(o)}connectedCallback(){this.base.render(),this.options.main().forEach((e=>e(this.base)))}disconnectedCallback(){this.options.unmount(this.base),delete this.options,delete this.base,delete this.__events}attributeChangedCallback(){}}}(t,n,U,j);customElements.define(e,i)}))}})(),__webpack_exports__})()}));
//# sourceMappingURL=jails.js.map